<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zoeywang.com</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;700&display=swap');
        .font-cinzel { font-family: 'Cinzel', serif; }
        .font-inter { font-family: 'Inter', sans-serif; }

        .content-transition {
            transition: all 0.5s ease-in-out;
        }
        
        #app-container {
            min-height: 100vh;
        }

        .nav-button-dark {
            /* Tailwind classes for dark theme button */
            @apply w-full sm:w-auto text-white border-2 border-red-600 hover:bg-red-600 transition duration-300 rounded-lg px-4 py-2 font-cinzel tracking-wider shadow-lg;
        }
        .nav-button-cute {
            /* Tailwind classes for cute theme button */
            @apply w-full sm:w-auto text-gray-800 border-2 border-pink-700 bg-pink-500 hover:bg-pink-400 transition duration-300 rounded-lg px-4 py-2 font-inter shadow-xl;
        }
    </style>
</head>
<body class="font-inter">

    <div id="app-container" class="bg-red-900 text-white flex flex-col items-center p-6 sm:p-10 content-transition">

        <nav id="nav-menu" class="flex flex-wrap justify-center gap-2 mb-10 w-full max-w-4xl p-4 bg-red-800/50 rounded-xl shadow-2xl">
        </nav>

        <main id="content-area" class="w-full max-w-4xl p-8 bg-red-950/70 rounded-2xl shadow-2xl border-4 border-red-700 content-transition">
        </main>
        
        <footer class="mt-8 text-center text-red-300 text-xs">
            A Top-Secret Ardsley Lab Document (V 1.9)
        </footer>

    </div>

    <script>
        

        const apiKey = ""; // API key is provided at runtime
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
        
        const systemPrompt = "You are a scholarly, extremely dramatic, and slightly cryptic researcher from a maximum-security lab. Your task is to write a single paragraph, irrefutable petition to 'Dr. Carballo'. The content MUST be about the critical need for 'Neha Ramchandani' to have candy immediately to pacify a high-risk entity known only as 'The Wang'. Use sophisticated, academic, and highly urgent language. The petition must be exactly one paragraph long.";

        async function fetchWithRetry(url, options, retries = 3) {
            for (let i = 0; i < retries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (!response.ok) {
                        // Throw error if response status is not 2xx
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response;
                } catch (error) {
                    if (i === retries - 1) {
                        throw error;
                    }
                    await new Promise(resolve => setTimeout(resolve, Math.pow(2, i) * 1000));
                }
            }
        }


        async function generatePlea() {
            const contributorName = document.getElementById('contributorName').value.trim();
            const resultsDiv = document.getElementById('plea-results');
            const loadingSpinner = document.getElementById('loading-spinner');
            
            if (!contributorName) {
                resultsDiv.innerHTML = '<p class="text-red-500 font-bold mt-4">ERROR: Please enter your name or alias to proceed with the petition. Protocol requires identification.</p>';
                return;
            }

            resultsDiv.innerHTML = '';
            loadingSpinner.classList.remove('hidden');

            const userQuery = `Write the petition. The author's name is ${contributorName}. It is scholarly, melodramatic, and sophisticating, pleading Mr. Carballo to give Neha candy to pacify the Wang. Make it 3-4 sentences, hilariously nonsensical with a bunch of scholarly terms yet asking for candy that will surely have everyone laughing out loud.`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };

            const options = {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            };

            let generatedText = '';
            try {
                const response = await fetchWithRetry(apiUrl, options);
                const result = await response.json();
                
                const candidate = result.candidates?.[0];
                if (candidate && candidate.content?.parts?.[0]?.text) {
                    generatedText = candidate.content.parts[0].text;
                } else {
                    // Fallback if API response is valid but text part is missing
                    generatedText = "API Response Error: The ancient texts returned an illegible cipher. The plea could not be formulated. Retrying communication is mandatory.";
                }

            } catch (error) {
                console.error("Gemini API Error:", error);
                // Fallback message for network/HTTP errors
                generatedText = "NETWORK BREACH DETECTED: Communication line to the Scholarly Nexus has failed. Dr. Carballo remains oblivious to the impending sucrose crisis. A local message must be formulated immediately.";
            } finally {
                loadingSpinner.classList.add('hidden');
            }

            resultsDiv.innerHTML =
                '<h3 class="text-2xl font-cinzel text-red-300 mt-8 mb-4">The Official Petition to Dr. Carballo (Generated via Nexus)</h3>' +
                '<div id="generated-plea-container" class="bg-red-800 p-6 rounded-lg border border-red-500 shadow-inner">' +
                    '<p class="text-xl italic">' + generatedText + '</p>' +
                    '<p class="mt-4 text-sm text-red-400 text-right">- Submitted by Researcher: ' + contributorName + '</p>' +
                '</div>' +
                '<p class="mt-2 text-sm text-red-400">Plea successfully generated and logged in the Ardsley archives.</p>';
        }


        const pageData = {
            'home': {
                navTitle: 'Home',
                title: 'Welcome to zoeywang.com',
                content: '<h2 class="text-3xl sm:text-4xl font-inter mt-4 tracking-widest text-red-300">discover the hidden secrets of the evil mastermind Zoey Wang</h2>',
                theme: 'dark'
            },
            'awakening': {
                navTitle: "The Devil's Awakening",
                title: "The Devil's Awakening",
                content: '<p class="text-lg leading-relaxed mt-6">Zoey Wang was born July 4, 2011, at 2:03 AM to Shu-Yuan Wu and Hsien-Tseng Wang at the New York Presbyterian Hospital. The nurses described the birth as "eerily quiet." The only sound was a faint, unsettling hum.</p>',
                theme: 'dark'
            },
            'upbringing': {
                navTitle: 'The Upbringing',
                title: 'The Upbringing',
                content: '<p class="text-lg leading-relaxed mt-6">Our research indicates that Zoey Wang was corrupted on November 19, 2017, at 4:56 PM. The exact mechanism of this corruption remains unknown, but it coincided with the local broadcast of a very specific children\'s song. The darkness, once invited, never truly leaves.</p>',
                theme: 'dark'
            },
            'scholarly': {
                navTitle: 'Scholarly Concerns',
                title: 'Scholarly Concerns',
                content: '<p class="text-lg leading-relaxed mt-6">Zoey Wang has been detained in a maximum-security laboratory in Ardsley, NY, since 2020. Professors have been conducting multiple experiments on her, attempting to wash away her evil. The Education Department, in particular, fears her capacity to corrupt verb conjugations, biological tools, and mathematical proofs.</p>',
                theme: 'dark'
            },
            'defeating': {
                navTitle: 'Defeating the Devil',
                title: 'Defeating the Devil',
                content: 
                    '<p class="text-lg leading-relaxed mt-6">Over years of research, the professors of Ardsley have found a way to liberate humankind from the Wang. They have found a sweet summer child named **Neha Ramchandani** who seems to be capable of this profound task.</p>' +
                    '<p class="text-lg leading-relaxed mt-4 font-bold text-red-400">Neha, upon profiling the Wang for three months, has found that the only way to soothe the Wang is to offer candy sacrifices.</p>' +
                    '<p class="text-lg leading-relaxed mt-4">Neha has also found that Ardsley Laboratory Latin researcher Dr. Carballo is the best supplier of these vital candy sacrifices. His knowledge of ancient sugar structures is unparalleled.</p>',
                theme: 'dark'
            },
            'help': {
                navTitle: 'How you can help',
                title: 'How you can help',
                content: 
                    '<p class="text-xl leading-relaxed mt-6 font-cinzel text-red-300">You can help by assisting Neha retrieve these candy sacrifices from Dr. Carballo and convincing him to be her dedicated supplier.</p>' +
                    '<p class="text-xl leading-relaxed mt-4 font-bold">Your names will go down in history books if you help Neha defeat the Wang!</p>' +
                    
                    '<div class="mt-10 p-6 bg-red-900 rounded-xl shadow-2xl border-2 border-red-600">' +
                        '<h3 class="text-2xl font-cinzel mb-4 text-red-100">Operation: Candy Conviction ✨</h3>' +
                        '<p class="mb-4 text-sm text-red-300">Enter your name or researcher alias below to generate a irrefutable petition to Dr. Carballo, detailing the critical necessity of his sacrifice supply chain.</p>' +
                        
                        '<input id="contributorName" type="text" placeholder="Your Researcher Alias (e.g., Dr. N. Ramchandani)" ' +
                            'class="w-full p-3 rounded-lg bg-red-800 text-white border border-red-600 focus:outline-none focus:ring-2 focus:ring-red-400 font-inter" />' +
                        
                        '<button onclick="generatePlea()" class="w-full mt-4 bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 shadow-md">' +
                            '✨ Generate Plea ✨' +
                        '</button>' +

                        '<div id="loading-spinner" class="hidden text-center mt-6">' +
                            '<div class="animate-spin inline-block w-8 h-8 border-4 border-red-400 border-t-transparent rounded-full"></div>' +
                            '<p class="mt-2 text-red-400">Consulting the ancient texts...</p>' +
                        '</div>' +
                        
                        '<div id="plea-results" class="mt-4"></div>' +
                    '</div>',
                theme: 'dark'
            },
            'reveal': {
                navTitle: '???',
                title: 'LMAO ALL OF THIS WAS FAKE HEHEHEHE',
                content: 
                    '<p class="text-3xl sm:text-4xl font-cinzel font-bold mt-6 text-gray-900">jk jk this was all a joke but surely it was coding at its best right</p>' +
                    '<p class="text-xl sm:text-2xl font-inter mt-8 text-gray-700">pls give us the candy Mr. Carballo tysm we love u</p>' +
                    '<p class="text-lg sm:text-xl font-inter mt-6 text-gray-700">Also pls support <a href="https://www.instagram.com/dailydose_of_bio/" target="_blank" class="text-pink-800 underline font-bold">@dailydose_of_bio</a> on instagram! I\'m offering leadership positions if anyone\'s interested.</p>' +
                    '<p class="base sm:text-lg font-inter mt-6 text-gray-600">btw Zoey made this so u better give us the candy u can\'t lie this website is lowk pretty good</p>',
                theme: 'cute'
            }
        };

        let appContainer;
        let contentArea;
        let navMenu;

        function renderPage(pageId) {
            const page = pageData[pageId];
            if (!page) {
                pageId = 'home';
                page = pageData[pageId];
            }

            if (page.theme === 'cute') {
                appContainer.className = 'font-inter bg-pink-300 text-gray-900 flex flex-col items-center p-6 sm:p-10 content-transition';
                contentArea.className = 'w-full max-w-4xl p-8 bg-white rounded-2xl shadow-2xl border-4 border-pink-500 content-transition';
                navMenu.className = 'flex flex-wrap justify-center gap-2 mb-10 w-full max-w-4xl p-4 bg-pink-200/80 rounded-xl shadow-2xl content-transition';
            } else {
                appContainer.className = 'font-inter bg-red-900 text-white flex flex-col items-center p-6 sm:p-10 content-transition';
                contentArea.className = 'w-full max-w-4xl p-8 bg-red-950/70 rounded-2xl shadow-2xl border-4 border-red-700 content-transition';
                navMenu.className = 'flex flex-wrap justify-center gap-2 mb-10 w-full max-w-4xl p-4 bg-red-800/50 rounded-xl shadow-2xl content-transition';
            }

            contentArea.innerHTML = 
                '<div class="p-4">' +
                    '<h1 class="text-5xl sm:text-7xl font-cinzel font-bold text-white content-transition mb-6 ' + (page.theme === 'cute' ? 'text-pink-800' : 'text-white') + '">' +
                        page.title +
                    '</h1>' +
                    page.content +
                '</div>';
            

            renderNavigation(page.theme, pageId);
            
            history.pushState(null, '', '#' + pageId);
        }

        function renderNavigation(currentTheme, activePageId) {

            navMenu.innerHTML = '';
            Object.keys(pageData).forEach(pageId => {
                const page = pageData[pageId];
                const button = document.createElement('button');
                button.textContent = page.navTitle;
                button.onclick = () => renderPage(pageId);

                let buttonClass = currentTheme === 'cute' ? 'nav-button-cute' : 'nav-button-dark';
                
                if (pageId === activePageId) {
                    if (currentTheme === 'cute') {
                        buttonClass += ' bg-pink-700 text-white shadow-inner';
                    } else {
                        buttonClass += ' bg-red-600 shadow-inner';
                    }
                }

                button.className = buttonClass;
                navMenu.appendChild(button);
            });
        }

        window.onload = function() {
            appContainer = document.getElementById('app-container');
            contentArea = document.getElementById('content-area');
            navMenu = document.getElementById('nav-menu');

            const initialPageId = window.location.hash.substring(1) || 'home';
            renderPage(initialPageId);
        };
        
        window.addEventListener('popstate', () => {
            const pageId = window.location.hash.substring(1) || 'home';
            renderPage(pageId);
        });

    </script>
</body>
</html>
